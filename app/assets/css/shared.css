.pattern {
  position: absolute;
  width: 100%;
  height: var(--square-pattern-height);
  inset: 0;
  z-index: -1;

  &::before,
  &::after {
    content: '';
    position: absolute;
    inset: 0;
  }

  &::before {
    background-image: url('/images/square-pattern.svg');
    background-repeat: repeat;
    opacity: var(--square-pattern-opacity);
  }

  &::after {
    background-image: var(--square-gradient-bg);
  }
}

.button {
  border-radius: var(--border-radius);
  background-color: var(--button-bg);
  color: var(--button-color);
  height: var(--button-height);
  border: var(--button-border-width) var(--button-border-style) var(--button-border-color);
  font-weight: var(--button-font-weight);
  font-size: var(--button-font-size);
  display: flex;
  align-items: center;
  text-decoration: none;
  transition: all 0.3s ease-in-out;
  cursor: pointer;
  padding-inline-start: var(--button-padding-x-start);
  padding-inline-end: var(--button-padding-x-end);

  .icon {
    width: var(--button-height);
    height: var(--button-height);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: var(--button-icon-font-size);
  }

  &[data-icon="start"] {
    --button-padding-x-start: 0;
  }

  &[data-icon="end"] {
    --button-padding-x-end: 0;
  }

  &[data-icon="both-sides"] {
    --button-padding-x-start: 0;
    --button-padding-x-end: 0;
    gap: var(--button-gap);
  }

  &:hover {
    background-color: var(--button-hover-bg);
    color: var(--button-hover-color);
    outline-color: var(--button-hover-border-color);

    &:focus-visible,
    &:focus {
      --outline-bg: var(--button-hover-bg);
      --outline-color: var(--button-hover-color);
      --outline-text-color: var(--button-hover-border-color);
    }
  }

  &:is(:active, &:focus-visible, &:focus):not(:disabled, :hover) {
    --outline-bg: #3f3f80;
    --outline-color: var(--button-hover-border-color);
    --outline-text-color: var(--button-hover-color);
    background-color: var(--outline-bg);
  }

  &:is(.button--whatsapp) {
    --button-height: 52px;
    --button-icon-font-size: 1.5rem;
    --button-bg: hsla(var(--whatsapp-bg-hsl), 0.15);
    --button-color: var(--whatsapp-color);
    --button-hover-bg: var(--whatsapp-hover-bg);
    --button-hover-color: var(--whatsapp-hover-color);
    
    &:is(:active, .button:focus-visible, .button:focus) {
      --outline-bg: var(--whatsapp-hover-color);
      --outline-color: var(--whatsapp-color);
      --outline-text-color: var(--whatsapp-hover-color);
    }
  }
  
  &:is(.button--register, .button-register) {
    --button-icon-font-size: 1.5rem;
    --button-height: 52px;
    --button-bg: hsla(var(--accent-hsl), 0.08);
    --button-color: var(--accent);
    --button-hover-bg: var(--accent);
    --button-hover-color: var(--light);

    &:is(:active, .button:focus-visible, .button:focus) {
      --outline-bg: var(--accent);
      --outline-color: var(--accent);
      --outline-text-color: var(--light);
      color: var(--outline-text-color);
    }
  }

  &:is(.button--accent, .button-accent) {
    --button-bg: hsla(var(--accent-hsl), 1);
    --button-color: var(--light);
    --button-hover-bg: var(--light);
    --button-hover-color: var(--accent);

    &:is(:active, .button:focus-visible, .button:focus) {
      --outline-bg: var(--accent);
      --outline-color: var(--accent);
      --outline-text-color: var(--light);
      color: var(--outline-text-color);
    }

    &:is(:active, .button:focus-visible, .button:focus):hover {
      --outline-text-color: var(--accent);
      color: var(--outline-text-color);
    }
  }
  &:is(.button--success, .button--green, .button-success, .button-green) {
    --button-height: 52px;
    --button-bg: hsla(var(--green-hsl), 1);
    --button-color: var(--light);
    --button-hover-bg: var(--light);
    --button-hover-color: var(--green);

    &:is(:active, .button:focus-visible, .button:focus) {
      --outline-bg: var(--green);
      --outline-color: var(--green);
      --outline-text-color: var(--light);
      color: var(--outline-text-color);
    }

    &:is(:active, .button:focus-visible, .button:focus):hover {
      --outline-text-color: var(--green);
      color: var(--outline-text-color);
    }
  }
  &:is(.button--failed, .button--danger, .button--rejected, .button-failed, .button-danger, .button-rejected) {
    --button-bg: hsla(var(--red-hsl), 1);
    --button-color: var(--light);
    --button-hover-bg: var(--light);
    --button-hover-color: var(--red);

    &:is(:active, .button:focus-visible, .button:focus) {
      --outline-bg: var(--red);
      --outline-color: var(--red);
      --outline-text-color: var(--light);
      color: var(--outline-text-color);
    }

    &:is(:active, .button:focus-visible, .button:focus):hover {
      --outline-text-color: var(--red);
      color: var(--outline-text-color);
    }
  }
}

.strip-start,
.strip-end {
  position: absolute;
  width: 50%;
  inset-inline-start: 25%;
  height: 1px;
  opacity: 0.5;
  background-image: linear-gradient(90deg, hsla(var(--light-hsl), 0) 0%, hsla(var(--light-hsl), 1) 50%, hsla(var(--light-hsl), 0) 100%);
  @media (width < 768px) {
    width: 90vw;
    inset-inline-start: 5vw;
  }
}

.strip-start {
  inset-block-start: 0;
}

.strip-end {
  inset-block-end: 0;
}

.footer-cta-section {
  position: relative;
  padding-inline: 2vw;
  padding-block: calc(2rem + 3vw);
  isolation: isolate;
  @media (width < 768px) {
    padding-inline: 0;
  }

  .footer-cta-wrapper {
    position: relative;
    width: 100%;
    max-width: var(--wrapper-width);
    margin-inline: auto;
    margin-block-end: 10rem;
    @media (width < 768px) {
      margin-block-end: 3rem;
    }
    .section-header {
      position: relative;
      text-align: center;
      margin-block-end: calc(10rem + 1vw);
      @media (width < 768px) {
        margin-block-end: calc(var(--mobile-aside-gutter) * 2);
      }
    }

    .logo-block {
      position: relative;
      width: calc(500px + 1vw);
      margin-inline: auto;
      padding: 1.25rem;
      border-radius: calc(var(--border-radius) * 1.5);
      margin-block-end: calc(2rem + 1vw);
      background-color: #6E6BD1;
      background-image: linear-gradient(to right, #6E6BD1 50%, #111146 90%);

      svg {
        height: 80px;
      }

      @media (width < 768px) {
        width: 85vw;
        aspect-ratio: 2 / 1.6;
        display: flex;
        justify-content: center;
        align-items: flex-start;
        background-image: linear-gradient(to bottom, #dc8d5e, #8282ff);
        border-radius: calc(var(--border-radius) * 2);
      }

      img,
      svg {
        width: auto;
        position: relative !important;
        object-fit: contain;
      }

      .avatar {
        position: absolute;
        width: 250px;
        height: 330px;
        inset-block-start: calc(50% - 180px);
        inset-inline-start: calc(100% - 150px);
        @media (width < 768px) {
          width: 200px;
          height: 280px;
          inset-block-start: calc(100% - 150px);
          inset-inline-start: calc(100% - 75%);
        }
      }
    }

    .cta-button {
      position: relative;
      margin-inline: auto;
      margin-block-start: calc(5rem + 3vw);
      max-width: max-content;
      @media (width < 768px) {
        margin-block-start: calc(7.5rem + 10vw);
      }

      .strip-start {
        --strip-width: 800px;
        width: var(--strip-width);
        inset-inline-start: calc(50% - calc(var(--strip-width) / 2));
        inset-block-start: 200%;
        @media (width < 768px) {
          --strip-width: 90vw;
          inset-block-start: calc(100% + calc(var(--mobile-aside-gutter) * 1.25));
        }
      }
    }
  }

  .footer-bg {
    position: absolute;
    inset: 0;
    background-color: var(--body-bg);
    background-image: url('/images/footer-bg.png');
    background-position: center bottom;
    background-attachment: fixed;
    background-size: 100%;
    z-index: -1;

    &::after {
      content: '';
      position: absolute;
      inset: -5rem 0 0 0;
      background-image: linear-gradient(to top, hsla(var(--body-bg-hsl), 0) 0%, hsla(var(--body-bg-hsl), 0.85) 75%, hsla(var(--body-bg-hsl), 1) 100%);
    }
  }
}

.footer-copy-write {
  position: relative;

  .footer-copy-write-wrapper {
    position: relative;
    margin-inline: auto;
    max-width: calc(var(--wrapper-width) - 10rem);
    display: flex;
    justify-content: space-between;
    align-items: center;
    @media (width < 768px) {
      flex-wrap: wrap;
      justify-content: center;
      gap: calc(var(--mobile-aside-gutter) * 1);
    }
    .end-block {
      position: relative;
      display: flex;
      align-items: center;
      gap: 1rem;

      .social-list {
        --list-size: 40px;
        position: relative;
        display: flex;
        list-style: none;
        border-radius: calc(var(--border-radius) / 1.5);
        background-color: hsla(var(--light-hsl), 0.1);
        backdrop-filter: blur(5px);

        &:not(:focus-within) {
          overflow: clip;
        }

        .social-list-item {
          a {
            display: grid;
            place-items: center;
            width: var(--list-size);
            height: var(--list-size);
            transition: var(--transition);
            border-radius: calc(var(--border-radius) / 1.5);
            font-size: 1.1rem;

            &:hover {
              background-color: var(--accent);
              color: var(--light);
            }
          }
        }
      }
    }
  }
}

.mobile-contact-buttons {
  position: fixed;
  inset-block-end: 0;
  width: 100vw;
  inset-inline-start: 0;
  background-color: hsla(var(--header-bg-hsl), 0.75);
  backdrop-filter: blur(20px);
  display: flex;
  align-items: center;
  padding-inline: 5vw;
  height: var(--mobile-contact-buttons-height);
  gap: 1rem;
  z-index: var(--max-z-index);
  .button {
    justify-content: center;
    white-space: nowrap;
    flex: 1;
  }
}